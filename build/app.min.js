!function(){"use strict";function e(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var r=function(){return t=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imagesSelector=t,this.sliderRootSelector=".js-slider",this.imagesList=document.querySelectorAll(this.imagesSelector),this.sliderRootElement=document.querySelector(this.sliderRootSelector)},(r=[{key:"test",value:function(e){console.log(e)}},{key:"run",value:function(){var e=this.imagesList,t=this.sliderRootElement,r=this.imagesSelector;this.initEvents(e,t),this.initCustomEvents(e,t,r)}},{key:"initEvents",value:function(e,t){this.prepareShowImg(e),this.prepareSlideNext(t),this.prepareSlidePrev(t),this.prepareSliderClose(t)}},{key:"prepareShowImg",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("click",(function(e){t.fireCustomEvent(e.currentTarget,"js-slider-img-click")}))}))}},{key:"prepareSlideNext",value:function(e){var t=this,r=e.querySelector(".js-slider__nav--next");r&&r.addEventListener("click",(function(r){t.fireCustomEvent(e,"js-slider-img-next")}))}},{key:"prepareSlidePrev",value:function(e){var t=this,r=e.querySelector(".js-slider__nav--prev");r&&r.addEventListener("click",(function(r){t.fireCustomEvent(e,"js-slider-img-prev")}))}},{key:"prepareSliderClose",value:function(e){var t=this,r=e.querySelector(".js-slider__zoom");r&&r.addEventListener("click",(function(r){r.target===r.currentTarget&&t.fireCustomEvent(e,"js-slider-close")}))}},{key:"fireCustomEvent",value:function(e,t){console.log(e.className,"=>",t);var r=new CustomEvent(t,{bubbles:!0});e.dispatchEvent(r)}},{key:"initCustomEvents",value:function(e,t,r){var n=this;console.log(this),e.forEach((function(e){e.addEventListener("js-slider-img-click",(function(e){n.onImageClick(e,t,r)}))})),t.addEventListener("js-slider-img-next",(function(e){n.onImageNext(e)})),t.addEventListener("js-slider-img-prev",(function(e){n.onImagePrev(e)})),t.addEventListener("js-slider-close",(function(e){n.onClose(e)}))}},{key:"onImageClick",value:function(e,t,r){this.showHideSlider(t);var n=e.currentTarget.querySelector("img").src;this.showClickedImg(n,t),this.showThumbImgs(e,n,r)}},{key:"showHideSlider",value:function(e){e.classList.toggle("js-slider--active")}},{key:"showClickedImg",value:function(e,t){t.querySelector(".js-slider__image").src=e}},{key:"getThumbsList",value:function(e,t){var r=e.currentTarget.dataset.sliderGroupName;return document.querySelectorAll("".concat(t,"[data-slider-group-name=").concat(r,"]"))}},{key:"showThumbImgs",value:function(e,t,r){var n=this,i=document.querySelector(".js-slider__thumbs-item--prototype"),s=this.getThumbsList(e,r);console.log(s),s.forEach((function(e){var r=n.cloneThumbsProto(i);n.assignThumbImgs(r,e,t),document.querySelector(".js-slider__thumbs").appendChild(r)}))}},{key:"cloneThumbsProto",value:function(e){var t=e.cloneNode(!0);return t.classList.remove("js-slider__thumbs-item--prototype"),t}},{key:"assignThumbImgs",value:function(e,t,r){var n=e.querySelector("img");n.src=t.querySelector("img").src,n.src===r&&n.classList.add("js-slider__thumbs-image--current")}},{key:"onImageNext",value:function(e){console.log(e.currentTarget,"onImageNext");var t=this.createOnImageVariables(e),r=t.currentClassName,n=t.current,i=t.nextElement;this.showSelectedImage(e,r,n,i)}},{key:"showSelectedImage",value:function(e,t,r,n){if(n&&!n.className.includes("js-slider__thumbs-item--prototype")){var i=n.querySelector("img");i.classList.add(t),e.currentTarget.querySelector(".js-slider__image").src=i.src,r.classList.remove(t)}}},{key:"onImagePrev",value:function(e){console.log(this,"onImagePrev");var t=this.createOnImageVariables(e),r=t.currentClassName,n=t.current,i=t.prevElement;this.showSelectedImage(e,r,n,i)}},{key:"createOnImageVariables",value:function(e){var t="js-slider__thumbs-image--current",r=e.currentTarget.querySelector("."+t),n=r.parentElement;return{currentClassName:t,current:r,nextElement:n.nextElementSibling,prevElement:n.previousElementSibling}}},{key:"onClose",value:function(e){this.showHideSlider(e.currentTarget),this.removeThumbs(e)}},{key:"removeThumbs",value:function(e){e.currentTarget.querySelectorAll(".js-slider__thumbs-item:not(.js-slider__thumbs-item--prototype)").forEach((function(e){return e.parentElement.removeChild(e)}))}}])&&e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".gallery__item").forEach((function(e){e.dataset.sliderGroupName=Math.random()>.5?"nice":"good"})),new r(".gallery__item").run()}))}();